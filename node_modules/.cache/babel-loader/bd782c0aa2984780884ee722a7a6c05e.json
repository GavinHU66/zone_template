{"remainingRequest":"/Users/superhqy/Desktop/zone/foyozone/node_modules/babel-loader/lib/index.js!/Users/superhqy/Desktop/zone/foyozone/src/store/modules/item.js","dependencies":[{"path":"/Users/superhqy/Desktop/zone/foyozone/src/store/modules/item.js","mtime":1563341552906},{"path":"/Users/superhqy/Desktop/zone/foyozone/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/superhqy/Desktop/zone/foyozone/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var ls_shouldUse2ColsMode = true;\nvar ls_shouldUse3ColsMode = false;\nvar ls_currentMode = \"twoCols\";\nvar ls_moduleLists = [[{\n  name: \"UserInfo\",\n  id: 1,\n  chiAlias: \"个人资料\",\n  shouldShow: true\n}, {\n  name: \"LatestNews\",\n  id: 2,\n  chiAlias: \"最新消息\",\n  shouldShow: true\n}, {\n  name: \"Todo\",\n  id: 6,\n  chiAlias: \"待办消息\",\n  shouldShow: true\n}], [{\n  name: \"EssayList\",\n  id: 3,\n  chiAlias: \"近期文章\",\n  shouldShow: true\n}, {\n  name: \"MsgBoard\",\n  id: 4,\n  chiAlias: \"留言板\",\n  shouldShow: true\n}, {\n  name: \"CurrentVisitor\",\n  id: 5,\n  chiAlias: \"最近访客\",\n  shouldShow: true\n}], []];\n\ntry {\n  if (localStorage) {\n    // console.log(\"we have localStorage\")\n    if (localStorage.getItem(\"ls_shouldUse2ColsMode\") !== null) {\n      ls_shouldUse2ColsMode = localStorage.getItem(\"ls_shouldUse2ColsMode\") === 'true';\n    }\n\n    if (localStorage.getItem(\"ls_shouldUse3ColsMode\") !== null) {\n      ls_shouldUse3ColsMode = localStorage.getItem(\"ls_shouldUse3ColsMode\") === 'true';\n    }\n\n    if (localStorage.getItem(\"ls_currentMode\") !== null) {\n      ls_currentMode = localStorage.getItem(\"ls_currentMode\");\n    }\n\n    if (localStorage.getItem(\"ls_moduleLists\") !== null) {\n      ls_moduleLists = JSON.parse(localStorage.getItem(\"ls_moduleLists\"));\n    }\n  }\n} catch (e) {\n  console.log(\"we don't have localStorage\");\n}\n\nvar item = {\n  namespaced: true,\n  state: {\n    shouldUse2ColsMode: ls_shouldUse2ColsMode,\n    shouldUse3ColsMode: ls_shouldUse3ColsMode,\n    currentMode: ls_currentMode,\n    moduleLists: ls_moduleLists\n  },\n  mutations: {\n    toggleModuleDisplay: function toggleModuleDisplay(state, payload) {\n      var id = parseInt(payload.id);\n\n      for (var i = 0; i < state.moduleLists.length; i++) {\n        for (var j = 0; j < state.moduleLists[i].length; j++) {\n          if (state.moduleLists[i][j].id == id) {\n            state.moduleLists[i][j].shouldShow = !state.moduleLists[i][j].shouldShow;\n            break;\n          }\n        }\n      }\n    },\n    switchMode: function switchMode(state, payload) {\n      console.log(\"in mutations: switchMode\");\n\n      if (payload.currentMode !== state.currentMode) {\n        // payload.currentMode is the new mode, state.currentMode is the former mode\n        console.log(\"now switch mode, from \" + state.currentMode + \" to \" + payload.currentMode);\n        state.currentMode = payload.currentMode;\n        state.shouldUse2ColsMode = !state.shouldUse2ColsMode;\n        state.shouldUse3ColsMode = !state.shouldUse3ColsMode;\n\n        if (state.shouldUse2ColsMode) {\n          // switch from 3 cols mode to 2 cols mode\n          // move the modules from the 3rd col to the 2nd col\n          console.log(\"move the modules from the 3rd col to the 2nd col\");\n\n          if (state.moduleLists[2].length !== 0) {\n            state.moduleLists[1] = state.moduleLists[1].concat(state.moduleLists[2]);\n            state.moduleLists[2] = []; // 3rd col become empty\n          }\n        }\n\n        if (state.shouldUse3ColsMode) {\n          // switch from 2 cols mode to 3 cols mode\n          // move the last module in the 2nd col to the 3rd col\n          console.log(\"move the last module in the 2nd col to the 3rd col\");\n\n          if (state.moduleLists[1].length !== 0) {\n            var lastModule = state.moduleLists[1].pop(); // last module in 2nd col\n\n            state.moduleLists[2].push(lastModule); // push to the 3rd col\n          }\n        }\n\n        state.moduleLists = JSON.parse(JSON.stringify(state.moduleLists));\n      }\n    },\n    saveEditing: function saveEditing(state, payload) {\n      state.shouldUse2ColsMode = payload.shouldUse2ColsModeTmp;\n      state.shouldUse3ColsMode = payload.shouldUse3ColsModeTmp;\n      state.currentMode = payload.currentModeTmp;\n      state.moduleLists = payload.moduleListsTmp;\n    }\n  },\n  actions: {\n    toggleModuleDisplay: function toggleModuleDisplay(_ref, payload) {\n      var commit = _ref.commit;\n      commit(\"toggleModuleDisplay\", payload);\n    },\n    switchMode: function switchMode(_ref2, payload) {\n      var commit = _ref2.commit;\n      commit(\"switchMode\", payload);\n    },\n    saveEditing: function saveEditing(_ref3, payload) {\n      var commit = _ref3.commit;\n      commit(\"saveEditing\", payload);\n    }\n  }\n};\nexport default item;",{"version":3,"sources":["/Users/superhqy/Desktop/zone/foyozone/src/store/modules/item.js"],"names":["ls_shouldUse2ColsMode","ls_shouldUse3ColsMode","ls_currentMode","ls_moduleLists","name","id","chiAlias","shouldShow","localStorage","getItem","JSON","parse","e","console","log","item","namespaced","state","shouldUse2ColsMode","shouldUse3ColsMode","currentMode","moduleLists","mutations","toggleModuleDisplay","payload","parseInt","i","length","j","switchMode","concat","lastModule","pop","push","stringify","saveEditing","shouldUse2ColsModeTmp","shouldUse3ColsModeTmp","currentModeTmp","moduleListsTmp","actions","commit"],"mappings":"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","sourcesContent":["\nlet ls_shouldUse2ColsMode = true;\nlet ls_shouldUse3ColsMode = false;\nlet ls_currentMode = \"twoCols\";\nlet ls_moduleLists = [     \n        [\n            { name: \"UserInfo\", id: 1, chiAlias: \"个人资料\", shouldShow: true},\n            { name: \"LatestNews\", id: 2, chiAlias: \"最新消息\", shouldShow: true },\n            { name: \"Todo\", id: 6, chiAlias: \"待办消息\", shouldShow: true },\n\n        ],\n        [\n            { name: \"EssayList\", id: 3, chiAlias: \"近期文章\", shouldShow: true },\n            { name: \"MsgBoard\", id: 4, chiAlias: \"留言板\", shouldShow: true },\n            { name: \"CurrentVisitor\", id: 5, chiAlias: \"最近访客\", shouldShow: true },\n        ],\n        [\n\n        ]\n    ];\n\n\n\ntry {\n    if (localStorage) {\n        // console.log(\"we have localStorage\")\n\n        if (localStorage.getItem(\"ls_shouldUse2ColsMode\") !== null){\n            ls_shouldUse2ColsMode = (localStorage.getItem(\"ls_shouldUse2ColsMode\") === 'true');\n        }\n        if (localStorage.getItem(\"ls_shouldUse3ColsMode\") !== null){\n            ls_shouldUse3ColsMode = (localStorage.getItem(\"ls_shouldUse3ColsMode\") === 'true');\n        }\n        if (localStorage.getItem(\"ls_currentMode\") !== null){\n            ls_currentMode = localStorage.getItem(\"ls_currentMode\");\n        }\n        if (localStorage.getItem(\"ls_moduleLists\") !== null){\n            ls_moduleLists = JSON.parse(localStorage.getItem(\"ls_moduleLists\"));\n        }\n    }\n} catch (e) {console.log(\"we don't have localStorage\")}\n\nconst item = {\n\n    namespaced: true,\n\n    state: {\n        shouldUse2ColsMode: ls_shouldUse2ColsMode,\n        shouldUse3ColsMode: ls_shouldUse3ColsMode,\n        currentMode: ls_currentMode,\n        moduleLists: ls_moduleLists,\n    },\n\n    mutations: {\n\n        toggleModuleDisplay (state, payload) {\n            var id = parseInt(payload.id);\n            for (var i=0; i<state.moduleLists.length; i++){\n                for (var j=0; j<state.moduleLists[i].length; j++){\n                    if (state.moduleLists[i][j].id == id){\n                        state.moduleLists[i][j].shouldShow = !state.moduleLists[i][j].shouldShow;\n                        break;\n                    }\n                }\n            }\n        },\n\n        switchMode(state, payload){\n            console.log(\"in mutations: switchMode\")\n\n            if (payload.currentMode !== state.currentMode){\n                // payload.currentMode is the new mode, state.currentMode is the former mode\n                console.log(\"now switch mode, from \" + state.currentMode + \" to \" + payload.currentMode)\n                state.currentMode = payload.currentMode;\n                state.shouldUse2ColsMode = !state.shouldUse2ColsMode;\n                state.shouldUse3ColsMode = !state.shouldUse3ColsMode;\n\n                if (state.shouldUse2ColsMode){\n                    // switch from 3 cols mode to 2 cols mode\n                    // move the modules from the 3rd col to the 2nd col\n                    console.log(\"move the modules from the 3rd col to the 2nd col\")\n                    if (state.moduleLists[2].length !== 0){\n                        state.moduleLists[1] = state.moduleLists[1].concat(state.moduleLists[2]);\n                        state.moduleLists[2] = []; // 3rd col become empty\n                    }\n                } \n                if (state.shouldUse3ColsMode){\n                    // switch from 2 cols mode to 3 cols mode\n                    // move the last module in the 2nd col to the 3rd col\n                    console.log(\"move the last module in the 2nd col to the 3rd col\")\n                    if (state.moduleLists[1].length !== 0){\n                        var lastModule = state.moduleLists[1].pop(); // last module in 2nd col\n                        state.moduleLists[2].push(lastModule); // push to the 3rd col\n                    }\n                }\n                state.moduleLists = JSON.parse(JSON.stringify(state.moduleLists));\n            }\n        },\n\n        saveEditing(state, payload){\n            state.shouldUse2ColsMode = payload.shouldUse2ColsModeTmp;\n            state.shouldUse3ColsMode = payload.shouldUse3ColsModeTmp;\n            state.currentMode = payload.currentModeTmp;\n            state.moduleLists = payload.moduleListsTmp;       \n        },\n    },\n\n    actions: {\n        toggleModuleDisplay({commit}, payload){\n            commit(\"toggleModuleDisplay\", payload);\n        },\n        switchMode({commit}, payload){\n            commit(\"switchMode\", payload);\n        },\n        saveEditing({commit}, payload){\n            commit(\"saveEditing\", payload);\n        }\n\n    },\n\n  }\n  \n  export default item\n  "]}]}